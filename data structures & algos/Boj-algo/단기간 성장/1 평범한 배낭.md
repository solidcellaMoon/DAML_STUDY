https://www.acmicpc.net/workbook/view/4349

## 1. 평범한 배낭
https://www.acmicpc.net/problem/12865

#### DP(동적 프로그래밍)으로 풀어야하는 문제!

풀이: https://claude-u.tistory.com/208


- x축엔 가방 1~K 까지의 무게, y축은 물건 N개 개수 만큼의 배열을 만들어준다


- 행을 차례대로 돌며 다음과 같은 알고리즘을 수행해준다.
    - 1. 현재 물건이 현재 돌고있는 무게보다 작다면 바로 [이전 물건][같은 무게] (knapsack[i-1][j]를 입력해준다.

    - 2. 현재 물건을 넣어준다. 물건을 넣은 뒤의 남은 무게를 채울 수 있는 최댓값(knapsack[i-1][j-weight]을 위의 행에서 가져와 더해준다.

    - 3. 현재 물건을 넣어주는 것보다. 다른 물건들로 채우는 값(knapsack[i-1][j])을 가져온다.


- 2,3 중 더 큰 값을 knapsack[i][j]에 저장해준다. 이 값은 현재까지의 물건들로 구성할 수 있는 가장 가치 높은 구성이다.


- knapsack[N][K]는 곧, K무게일 때의 최댓값을 가리킨다.


```python
def printArr(arr):
    for i in range(len(arr)):
        print(i,':',arr[i])
    print('=========')
    

#물건 개수, 무게제한
n,k = 4, 7

#[무게,가치]
stuff = [[0,0],[6,13],[4,8],[3,6],[5,12]]
#기본 [[0,0]]으로 두고 append하는 식으로 추가하면 됨

#n개의 물건이 있다면, 총 n+1개의 줄이 있어야 함
dp = [ [0]*(k+1) for _ in range(n+1)]
printArr(dp)

#물건마다
for i in range(1,n+1):
    for j in range(1,k+1): #j는 현재 무게 단위 (1~k)
        #지금 꺼낸 물건의 무게와 가치
        weight,value = stuff[i][0],stuff[i][1]
        
        #j가 weight보다 작으면, 위칸의 값을 그대로 가져온다!
        if j < weight:
            dp[i][j] = dp[i-1][j]
        
        # j가 weight보다 크거나 같다면?
        else:
            #현재 물건을 넣고 난 뒤, 남은 무게를 채울 최댓값을
            #위의 행에서 가져와 dp[i-1][j-weight]을 더해준 값과/
            #또는 위칸의 값 중 큰걸 선택한다
            dp[i][j] = max(value+dp[i-1][j-weight],dp[i-1][j])

        printArr(dp)
            
#맨 마지막 값이 정답이다
print('정답:',dp[n][k])
```

    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 0, 0]
    2 : [0, 0, 0, 0, 0, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 0, 0]
    2 : [0, 0, 0, 0, 0, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 0, 0]
    2 : [0, 0, 0, 0, 0, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 0, 0]
    2 : [0, 0, 0, 0, 0, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 0, 0]
    2 : [0, 0, 0, 0, 0, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 0, 0]
    2 : [0, 0, 0, 0, 0, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 0]
    2 : [0, 0, 0, 0, 0, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 0, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 0, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 0, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 0, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 0, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 0, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 0]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 0, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 0, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 8, 0, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 8, 8, 0, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 8, 8, 13, 0]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 8, 8, 13, 14]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 8, 8, 13, 14]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 8, 8, 13, 14]
    4 : [0, 0, 0, 0, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 8, 8, 13, 14]
    4 : [0, 0, 0, 6, 0, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 8, 8, 13, 14]
    4 : [0, 0, 0, 6, 8, 0, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 8, 8, 13, 14]
    4 : [0, 0, 0, 6, 8, 12, 0, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 8, 8, 13, 14]
    4 : [0, 0, 0, 6, 8, 12, 13, 0]
    =========
    0 : [0, 0, 0, 0, 0, 0, 0, 0]
    1 : [0, 0, 0, 0, 0, 0, 13, 13]
    2 : [0, 0, 0, 0, 8, 8, 13, 13]
    3 : [0, 0, 0, 6, 8, 8, 13, 14]
    4 : [0, 0, 0, 6, 8, 12, 13, 14]
    =========
    정답: 14
    

# 그냥 참고
## 리스트 필터링


```python
arr = [[1,1],[20,3],[10,1],[2,1],[2,0]]
#[0]이 5보다 작은 경우
arr = list(filter(lambda x: x[0]<5,arr))
arr
```




    [[1, 1], [2, 1], [2, 0]]



## 백준 제출용


```python
# 물건 개수, 무게제한
n,k = map(int, input().split())

#[무게,가치]
stuff = [[0,0]]
#기본 [[0,0]]으로 두고 append하는 식으로 추가하면 됨
for i in range(n): #무게, 가치 순으로 입력
    stuff.append(list(map(int, input().split())))

#n개의 물건이 있다면, 총 n+1개의 줄이 있어야 함
dp = [ [0]*(k+1) for _ in range(n+1)]
#물건마다
for i in range(1,n+1):
    for j in range(1,k+1): #j는 현재 무게 단위 (1~k)
        #지금 꺼낸 물건의 무게와 가치
        weight,value = stuff[i][0],stuff[i][1]
        
        #j가 weight보다 작으면, 위칸의 값을 그대로 가져온다!
        if j < weight:
            dp[i][j] = dp[i-1][j]
        
        # j가 weight보다 크거나 같다면?
        else:
            #현재 물건을 넣고 난 뒤, 남은 무게를 채울 최댓값을
            #위의 행에서 가져와 dp[i-1][j-weight]을 더해준 값과/
            #또는 위칸의 값 중 큰걸 선택한다
            dp[i][j] = max(value+dp[i-1][j-weight],dp[i-1][j])
            
#맨 마지막 값이 정답이다
print(dp[n][k])
```

    4 7
    6 13
    4 8
    3 6
    5 12
    14
    


```python
N, K = map(int, input().split())

bag = {0: 0} 

for _ in range(N):
    w, v = map(int, input().split())
    temp = {}        
    
    for dw, dv in bag.items():
        nw, nv = dw + w, dv + v
        if nw <= K and bag.get(nw, 0) < nv:
            temp[nw] = nv
    bag.update(temp)
    
print(max(bag.values()))
```

    4 7
    6 13
    4 8
    3 6
    5 12
    14
    
